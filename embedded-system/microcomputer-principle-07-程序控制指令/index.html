<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="Hexo Theme Keep"><meta name="author" content="Carpe Tu"><title>microcomputer_principle_07_程序控制指令 | Carpe&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/fontawesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/regular.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/solid.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/brands.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"overduse.github.io",root:"/",language:"en",path:"search.json"},KEEP.theme_config={toc:{enable:!0,number:!0,expand_all:!0,init_open:!0},style:{primary_color:"#0066cc",logo:"https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png",favicon:"https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png",avatar:"https://pic.imgdb.cn/item/639ece3eb1fccdcd365542dd.jpg",font_size:"15.6px",font_family:null,hover:{shadow:!0,scale:!0},first_screen:{enable:!0,header_transparent:!0,background_img:"/images/bg.svg",description:"Keep writing and Keep loving.",font_color:null,hitokoto:!0},scroll:{progress_bar:!0,percent:!0}},local_search:{enable:!0,preload:!0},code_copy:{},code_block:{tools:{enable:!0,style:"mac"},highlight_theme:"default"},side_tools:{},pjax:{enable:!0},lazyload:{enable:!0},comment:{enable:!1,use:"valine",valine:{appid:null,appkey:null,placeholder:null},gitalk:{github_id:null,github_admins:null,repository:null,client_id:null,client_secret:null},twikoo:{env_id:null,region:null,version:"1.6.7"},waline:{server_url:null,reaction:!1,version:2}},post:{author_label:{enable:!0,auto:!1,custom_label_list:["Bell","Red Whistle","Blue Whistle","Moon Whistle","Black Whistle","YouWorth"]},word_count:{enable:!0,wordcount:!0,min2read:!0},img_align:"center",copyright_info:!0},version:"3.6.1"},KEEP.language_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"},KEEP.language_code_block={copy:"Copy code",copied:"Copied",fold:"Fold code block",folded:"Folded"},KEEP.language_copy_copyright={copy:"Copy copyright info",copied:"Copied",title:"Original article title",author:"Original article author",link:"Original article link"}</script><meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:#ff0;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style><link rel="alternate" href="/atom.xml" title="Keep Theme" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png"> </a><a class="logo-title" href="/">Carpe&#39;s Blog</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">HOME</a></li><li class="menu-item"><a href="/archives">ARCHIVES</a></li><li class="menu-item"><a href="/categories">CATEGORIES</a></li><li class="menu-item"><a href="/tags">TAGS</a></li><li class="menu-item"><a href="/links">LINKS</a></li><li class="menu-item"><a href="/about">ABOUT</a></li><li class="menu-item"><a href="/changelog">CHANGELOG</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">HOME</a></li><li class="drawer-menu-item flex-center"><a href="/archives">ARCHIVES</a></li><li class="drawer-menu-item flex-center"><a href="/categories">CATEGORIES</a></li><li class="drawer-menu-item flex-center"><a href="/tags">TAGS</a></li><li class="drawer-menu-item flex-center"><a href="/links">LINKS</a></li><li class="drawer-menu-item flex-center"><a href="/about">ABOUT</a></li><li class="drawer-menu-item flex-center"><a href="/changelog">CHANGELOG</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="post-page-container"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">microcomputer_principle_07_程序控制指令</span></div><div class="article-header"><div class="avatar"><img src="https://pic.imgdb.cn/item/639ece3eb1fccdcd365542dd.jpg"></div><div class="info"><div class="author"><span class="name">Carpe Tu</span> <span class="author-label">Black Whistle</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-calendar-plus"></i>&nbsp; <span class="pc">2023-02-21 09:30:34</span> <span class="mobile">2023-02-21 09:30</span> </span><span class="article-update-date article-meta-item"><i class="fas fa-file-pen"></i>&nbsp; <span class="pc">2023-02-21 20:08:57</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/embedded-system/">embedded system</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/Courses-Notes/">Courses Notes</a>&nbsp;</li><li>| <a href="/tags/xjtu/">xjtu</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>2.5k Words</span> </span><span class="article-min2read article-meta-item"><i class="fas fa-clock"></i>&nbsp;<span>9 Mins</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content keep-markdown-body"><h1 id="程序控制指令"><a href="#程序控制指令" class="headerlink" title="程序控制指令"></a>程序控制指令</h1><ul><li>程序控制类指令的本质是：<ul><li>控制程序的执行方向</li></ul></li><li>决定程序执行方向的因素：<ul><li>CS, IP</li></ul></li></ul><blockquote><p>修改IP，会使程序改变在当前代码段中执行的顺序**<br>同时修改CS和IP，会使程序走向另一个代码段执行</p></blockquote><hr><p>这两个寄存器的值，不能被随便修改。可以作为源操作数，但是一般<strong>不能作为目标操作数</strong>存在。</p><blockquote><p>程序控制类指令以“隐含”的方式修改CS和IP，以实现控制程序走向的目的（Intel指令集不允许由指令直接修改CS和IP）</p></blockquote><blockquote><p>通过修改IP或CS和IP，实现程序的三种基本控制结构</p></blockquote><ul><li>顺序，选择（分支），循环</li></ul><blockquote><p>学习程序控制类指令，需要重点关注： <strong>如何实现对CS和IP的修改</strong></p></blockquote><hr><ul><li>转移指令</li><li>循环控制</li><li>过程调用</li><li>中断控制</li></ul><h1 id="转移指令"><a href="#转移指令" class="headerlink" title="转移指令"></a>转移指令</h1><p>通过修改指令的<strong>偏移地址</strong>或<strong>段地址及偏移地址</strong>实现程序的转移</p><ul><li>无条件转移指令 –&gt; 无条件转移到目标地址</li><li>条件转移指令 –&gt; 当具备 <u>一定条件时</u> 转移到目标地址<br>(通常指状态标志位)</li></ul><h2 id="无条件转移指令"><a href="#无条件转移指令" class="headerlink" title="无条件转移指令"></a>无条件转移指令</h2><ul><li>format:<ul><li>JMP OPRD</li></ul></li></ul><blockquote><p>可以实现在当前代码<u>段内或段间转移</u></p></blockquote><p><img lazyload="" alt="JMP" data-src="https://pic.imgdb.cn/item/63f424c1f144a01007bbc150.jpg"></p><ol><li>无条件段内转移</li></ol><ul><li>转移的 <em>目标地址</em> 在当前代码段内，段地址不改变。</li><li><u>目标地址</u>是16位偏移地址。<ul><li>指令中直接给出目标地址-&gt;段内直接转移</li><li>指令中的 寄存器或存储器 操作数指出目标地址-&gt;段内间接转移</li></ul></li></ul><h3 id="段内转移"><a href="#段内转移" class="headerlink" title="段内转移"></a>段内转移</h3><p><strong>段内直接转移</strong></p><ul><li>转移目标地址由指令直接给出</li><li>format:<ul><li>JMP Label -&gt; 标号起名：不超过32字符，首字母不是数字</li></ul></li></ul><blockquote><p>标号最好有具体含义，JMP与Label间无说明-&gt;近地址标号</p></blockquote><p>JMP会计算IP与Label之间的位移量<br><strong>下一条要执行指令的偏移地址=IP+位移量</strong></p><p><strong>段内间接转移</strong></p><ul><li>段内间接转移<ul><li>转移的目标地址存放在某个16位寄存器或存储器的某两个单元</li></ul></li><li>e.g.<ul><li>MOV BX, 1200H</li><li>JMP BX</li></ul></li><li>执行完上述指令后：<ul><li>IP=1200H</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MOV BX, 1200</span><br><span class="line">JMP WORD PTR[BX]</span><br></pre></td></tr></table></figure><p><img lazyload="" alt="JMP2" data-src="https://pic.imgdb.cn/item/63f42f2af144a01007c9dd2a.jpg"></p><h3 id="段间转移"><a href="#段间转移" class="headerlink" title="段间转移"></a>段间转移</h3><ul><li>转移的 <code>目标地址</code> 不在当前代码段内。</li><li><code>目标地址</code> 为32位，包括段地址和偏移地址。<br>（目标地址-&gt;指令中直接给出-&gt;段间直接转移<br>（指令中32bit存储器操作数指出目标地址–&gt;段间间接转移</li></ul><p><strong>段间间接转移</strong></p><ul><li>段间间接寻址<ul><li>转移的目标地址由指令中的<code>32bit</code>操作数给出</li><li><code>32bit</code>目标地址须存放于内存中</li></ul></li></ul><blockquote><p>32位操作数/地址，低位IP高位CS</p></blockquote><ul><li>e.g.<ul><li>JMP DWORD PTR[BX]</li></ul></li></ul><p><img lazyload="" alt="JMP" data-src="https://pic.imgdb.cn/item/63f431d1f144a01007ccbfcd.jpg"></p><p><img lazyload="" alt="JMP3" data-src="https://pic.imgdb.cn/item/63f43238f144a01007cd3207.jpg"></p><ul><li><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MOV SI, 1122H</span><br><span class="line">MOV WORD PTR[SI], 0120H</span><br><span class="line">ADD SI, 2</span><br><span class="line">MOV WORD PTR[SI], 0122H</span><br><span class="line">JMP WORD PTR[SI]</span><br></pre></td></tr></table></figure><p>以上为段内转移<br><img lazyload="" alt="JMP4" data-src="https://pic.imgdb.cn/item/63f4367ff144a01007d2646d.jpg"></p></li><li><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MOV SI, 1122H</span><br><span class="line">MOV WORD PTR[SI], 0120H</span><br><span class="line">ADD SI, 2</span><br><span class="line">MOV WORD PTR[SI], 0122H</span><br><span class="line">JMP DWORD PTR[SI-2]</span><br></pre></td></tr></table></figure><p><img lazyload="" alt="JMP5" data-src="https://pic.imgdb.cn/item/63f4372ff144a01007d331a6.jpg"></p></li></ul><p>跳转后CS:0122H IP:0120H</p><h2 id="条件转移指令"><a href="#条件转移指令" class="headerlink" title="条件转移指令"></a>条件转移指令</h2><ul><li>在满足一定条件下，程序转移到目标地址继续执行</li><li>条件转移指令均为<em>段内短转移</em>，即转移范围为：<br>-128 ——&gt; +127</li></ul><h3 id="基于1个标志为状态"><a href="#基于1个标志为状态" class="headerlink" title="基于1个标志为状态"></a>基于1个标志为状态</h3><ul><li>JC/JNC<ul><li>判断CF的状态。常用于两个无符号数大小比较</li></ul></li><li>JZ/JNZ<ul><li>判断ZF的状态。常用于循环体的结束判断</li></ul></li><li>JO/JNO<ul><li>判断OF的状态。常用于有符号数溢出的判断</li></ul></li><li>JP/JPE、JNP/JPO<ul><li>判断PF的状态。用于判断运算结果低8位中1的个数是否位偶数</li></ul></li><li>JS/JNS<ul><li>判断SF的状态。常用于判读数的性质</li></ul></li></ul><h3 id="基于2or3标志位状态"><a href="#基于2or3标志位状态" class="headerlink" title="基于2or3标志位状态"></a>基于2or3标志位状态</h3><ul><li>JA/JAE/JB/JBE<ul><li>判断CF或CF+ZF的状态。常用于无符号数大小的比较。</li></ul></li><li>JG/JGE/JL/JLE<ul><li>判断SF+OF或SF+OF+ZF的状态。常用于有符号数大小的比较</li></ul></li></ul><h3 id="基于CX内容转移的指令"><a href="#基于CX内容转移的指令" class="headerlink" title="基于CX内容转移的指令"></a>基于CX内容转移的指令</h3><ul><li>JCXZ<ul><li>可根据指令执行后CX的结果实现转移</li></ul></li></ul><h2 id="条件转移例"><a href="#条件转移例" class="headerlink" title="条件转移例"></a>条件转移例</h2><ul><li>统计内存数据段中以TABLE为首地址的100个8bit带符号数中，正数、负数和零元数的个数。</li><li>基本思路：<ul><li>可先将存放统计值的单元（或寄存器）清零</li><li>读取一个数，通过<u>标志位的状态</u>判断数的性质<ul><li>最高位为1，则为负数</li><li>最高位为0，则为正数或零</li></ul></li></ul></li></ul><blockquote><p>不改变数本身，影响标志位(获得数的性质)<br>对自身使用and和or操作来，实现标志位flag的获取</p></blockquote><p><img lazyload="" alt="instruct flow" data-src="https://pic.imgdb.cn/item/63f46be9f144a010071e1f89.jpg"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">START:  XOR AL, AL</span><br><span class="line">        MOV PLUS, AL    ; 3个MOV指令，用于清零存储器</span><br><span class="line">        MOV MINUS, AL</span><br><span class="line">        MOV ZERO, AL</span><br><span class="line">        LEA SI, TABLE</span><br><span class="line">        MOV CX, 100</span><br><span class="line">        CLD</span><br><span class="line"></span><br><span class="line">CHECK:  LODSB           ; 将SI中的字节，取入AL</span><br><span class="line">        OR AL, AL</span><br><span class="line">        JS X1           ; 判断是否为负</span><br><span class="line">        JZ X2           ; 判断是否为0</span><br><span class="line">        INC PLUS</span><br><span class="line">        JMP NEXT</span><br><span class="line"></span><br><span class="line">  X1:   INC MINUS</span><br><span class="line">        JMP NEXT</span><br><span class="line"></span><br><span class="line">  X2:   INC ZERO</span><br><span class="line"></span><br><span class="line">  NEXT: DEC CX</span><br><span class="line">        JNZ CHECK</span><br><span class="line">        HLT</span><br></pre></td></tr></table></figure><h1 id="循环控制指令"><a href="#循环控制指令" class="headerlink" title="循环控制指令"></a>循环控制指令</h1><ul><li>循环范围：<ul><li>以当前IP为中心的-128～+127范围内循环。</li></ul></li><li>循环次数由CX寄存器指定。</li><li>循环指令：<ul><li>LOOP –&gt; 无条件循环指令</li></ul></li></ul><hr><ul><li>LOOPZ</li><li>LOOPNZ<br>(条件循环指令)</li></ul><hr><h2 id="无条件循环指令"><a href="#无条件循环指令" class="headerlink" title="无条件循环指令"></a>无条件循环指令</h2><ul><li>format:<ul><li>LOOP LABEL</li></ul></li><li>loop requirement:<ul><li>CX<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.486ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="2.106ex" role="img" focusable="false" viewBox="0 -716 778 931"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path></g></g></g></svg></mjx-container>0</li></ul></li><li>manipulation，相当于：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DEC CX</span><br><span class="line">JNZ LABEL(LOOP)</span><br></pre></td></tr></table></figure></li></ul><h2 id="条件循环指令"><a href="#条件循环指令" class="headerlink" title="条件循环指令"></a>条件循环指令</h2><ul><li>function:<ul><li>先使CX-1，再根据CX中的值及ZF值来决定是否继续循环</li></ul></li><li>format：<ul><li>LOOPZ Label –&gt; 继续循环条件：CX<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.486ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="2.106ex" role="img" focusable="false" viewBox="0 -716 778 931"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path></g></g></g></svg></mjx-container>0，且ZF=1</li><li>LOOPNZ Label –&gt; 继续循环的条件：CX<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.486ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="2.106ex" role="img" focusable="false" viewBox="0 -716 778 931"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path></g></g></g></svg></mjx-container>0，且ZF=0</li></ul></li></ul><h2 id="循环例"><a href="#循环例" class="headerlink" title="循环例"></a>循环例</h2><ul><li><p>在以DATA为首地址的内存数据段中，存放由200个16bit有符号数，试找出其中最大和最小的符号数，并分别放在MAX和MIN为首的内存单元中。</p></li><li><p>题目分析：</p><ul><li>先取数据块中第1个数，将其同时暂存于MAX和MIN中；</li><li>循环读取其它数，并分别与MAX和MIN中的数进行比较<ul><li>若大于，则取代原MAX中的数；</li><li>若小于MIN，则取代MIN</li></ul></li></ul></li><li><p>NOTE： 有符号数比较，应该采用JG和JL等<strong>用于符号数的条件转移指令</strong></p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">START:  LEA SI, DATA</span><br><span class="line">        MOV CX, 200</span><br><span class="line">        CLD</span><br><span class="line">        LODSW</span><br><span class="line">        MOV MAX, AX</span><br><span class="line">        MOV MIN, AX</span><br><span class="line">        DEC CX</span><br><span class="line"></span><br><span class="line">NEXT:   LODSW</span><br><span class="line">        CMP AX, MAX</span><br><span class="line">        JG LARGE</span><br><span class="line">        CMP AX, MIN</span><br><span class="line">        JL SMALL</span><br><span class="line">        JMP GOON</span><br><span class="line"></span><br><span class="line">LARGE:  MOV MAX AX</span><br><span class="line">        JMP GOON;</span><br><span class="line"></span><br><span class="line">SMALL:  MOV MIN, AX</span><br><span class="line"></span><br><span class="line">GOON:   LOOP NEXT</span><br></pre></td></tr></table></figure><h1 id="过程调用"><a href="#过程调用" class="headerlink" title="过程调用"></a>过程调用</h1><ul><li>过程调用指令<ul><li>用于调用一个子过程</li></ul></li><li>与转移指令的比较<ul><li>子过程执行结束后要返回原调用处<ul><li>必须保护返回地址</li></ul></li></ul></li></ul><p><img lazyload="" alt="call" data-src="https://pic.imgdb.cn/item/63f4840ef144a0100743c38f.jpg"></p><blockquote><p>入口地址: 子程序第一条指令，在内存中的存放处<br>断点：调用指令的下一条指令的地址</p></blockquote><h2 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h2><ol><li>保护断点</li></ol><ul><li>将调用指令的下一条指令的地址（断点）压入堆栈</li></ul><ol start="2"><li>获取子过程的入口地址</li></ol><ul><li>子过程第1条指令的地址</li></ul><ol start="3"><li><strong>执行子过程</strong> –&gt; 程序员编写</li></ol><ul><li>功能实现，参数的保存及恢复</li></ul><ol start="4"><li>恢复断点，返回原程序。</li></ol><ul><li>将断点偏移地址由堆栈弹出</li></ul><blockquote><p>断点保护和恢复由系统自动完成，但会影响堆栈的栈顶指针</p></blockquote><p><img lazyload="" alt="call category" data-src="https://pic.imgdb.cn/item/63f48697f144a0100747814a.jpg"></p><h3 id="段内调用"><a href="#段内调用" class="headerlink" title="段内调用"></a>段内调用</h3><ul><li>被调用程序与调用程序在同一代码段<ul><li>调用前，只需保护断点的偏移地址</li></ul></li></ul><ol><li>CALL TIMER –&gt; 直接调用</li><li>CALL WORD PTR[SI] –&gt; 间接调用<br>(间接调用： 子程序的入口地址在内存中)</li></ol><p><img lazyload="" alt="call in segment" data-src="https://pic.imgdb.cn/item/63f48960f144a010074c3663.jpg"></p><h3 id="段间调用"><a href="#段间调用" class="headerlink" title="段间调用"></a>段间调用</h3><ul><li>子过程与原调用程序不在同一代码段<ul><li>–&gt; 调用前需保护断点的段基地址和偏移地址</li></ul></li><li>先将断点的CS压栈，再压入IP。</li><li>e.g.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CALL FAR TIMER    ;调用名为TIMER的远过程 </span><br><span class="line">CALL DWORD PTR[SI];32位存储器操作数，表示远过程调用</span><br></pre></td></tr></table></figure></li></ul><h3 id="返回"><a href="#返回" class="headerlink" title="返回"></a>返回</h3><ul><li>func:<ul><li>从堆栈中弹出断点地址，返回原程序</li></ul></li><li>format:<ul><li>RET (stand for return)</li></ul></li></ul><blockquote><p>子程序的最后一条指令必须是RET</p></blockquote><h1 id="中断控制指令"><a href="#中断控制指令" class="headerlink" title="中断控制指令"></a>中断控制指令</h1><p>程序控制的最后一段指令</p><h2 id="中断概念"><a href="#中断概念" class="headerlink" title="中断概念"></a>中断概念</h2><p>某种异常或随机<strong>事件</strong>使处理器暂时停止正在运行的程序，转去执行一段特殊处理程序，并在处理结束后返回源程序被中断处继续执行的过程。</p><blockquote><p>中断概念中间，所谓 <code>事件</code> 叫做 中断源</p></blockquote><h2 id="中断指令："><a href="#中断指令：" class="headerlink" title="中断指令："></a>中断指令：</h2><ul><li>引起CPU产生一次中断的指令</li></ul><h2 id="中断与过程调用："><a href="#中断与过程调用：" class="headerlink" title="中断与过程调用："></a>中断与过程调用：</h2><ul><li><p>相似点：</p><ul><li>从一个正在执行的过程转向另一个过程（程序处理），并在执行完后返回原程序继续执行</li></ul></li><li><p>区别：</p><ul><li>中断是<u>随机事件或异常事件</u>引起，调用是事先已在程序中安排好；</li><li>调用指令在指令中，直接给出子程序入口地址，中断指令只给出<em>中断向量码</em>，入口地址则在向量码指向的内存单元中。</li><li>调用可以是近过程调用或源过程调用，中断处理程序均为远过程；</li><li>响应中断请求不仅要保护断点地址，还要保护FLAGS内容。</li></ul></li><li><p>format:<br>INT n (0～255)</p></li><li><p>explanation:</p><ul><li>n*4 –&gt; 存放中断服务子程序入口地址的单元的偏移地址</li></ul></li></ul><p><img lazyload="" alt="n4" data-src="https://pic.imgdb.cn/item/63f4a8ebf144a010077aca88.jpg"></p><h2 id="执行过程-1"><a href="#执行过程-1" class="headerlink" title="执行过程"></a>执行过程</h2><ol><li>将FLAGS压入堆栈；</li><li>将INT指令的下一条指令的CS、IP压栈；</li><li>由n<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewBox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g></g></g></svg></mjx-container>4得到存放中断向量的地址；</li><li>将中断向量（中断服务程序入口地址）送CS和IP 寄存器；<br>(以上过程，全部由硬件系统完成)</li><li>转入中断服务程序。 –&gt; 软件工程师实现</li></ol><hr><p>执行INT指令之后，SP-2压入FLAGS保护</p><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f4ace0f144a0100782fdf5.jpg"></p><p>SP-2 将断点的段基地址入栈</p><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f4ad30f144a01007836b6a.jpg"></p><p>SP-2 将断点偏移地址入栈</p><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f4ad84f144a0100783dfec.jpg"></p><p>以上为自动化实现过程</p><hr><p><strong>找入口</strong></p><p>进行n<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewBox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g></g></g></svg></mjx-container>4的运算，然后指向中断向量表</p><p>n<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewBox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g></g></g></svg></mjx-container>4位置和n<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewBox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g></g></g></svg></mjx-container>4+1为IP地址，n<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewBox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g></g></g></svg></mjx-container>4+2和n<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewBox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g></g></g></svg></mjx-container>4+3存储CS地址</p><p><strong>中断指令程序例</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CS      IP</span><br><span class="line">6200H: 010DH MOV SP, 1200H</span><br><span class="line">6200H: 0110H INT 21H</span><br><span class="line">6200H: 0112H MOV AX, BX</span><br></pre></td></tr></table></figure><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f4b1adf144a01007899a3d.jpg"></p><ul><li>执行INT 21H 指令后<ul><li>IP=[21H*4]</li><li>CS=[(21H*4)+2]</li></ul></li></ul><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f4b297f144a010078b356a.jpg"></p><ul><li>format:<ul><li>IRET</li></ul></li><li>中断服务程序的最后一条指令，负责：<ul><li>恢复断点</li><li>恢复标志寄存器内容</li></ul></li></ul></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul class="copyright-info-content"><li class="post-title"><span class="type">Post title</span>: <span class="content">microcomputer_principle_07_程序控制指令</span></li><li class="post-author"><span class="type">Post author</span>: <span class="content">Carpe Tu</span></li><li class="post-time"><span class="type">Create time</span>: <span class="content">2023-02-21 09:30:34</span></li><li class="post-link"><span class="type">Post link</span>: <span class="content">embedded-system/microcomputer-principle-07-程序控制指令/</span></li><li class="post-license"><span class="type">Copyright notice</span>: <span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span></li></ul><div class="copy-copyright-info flex-center tooltip" data-content="Copy copyright info" data-offset-y="-2px"><i class="fa-solid fa-copy"></i></div></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/Courses-Notes/">#Courses Notes</a>&nbsp;</li><li class="tag-item"><a href="/tags/xjtu/">#xjtu</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/embedded-system/microcomputer-principle-08-%E5%A4%84%E7%90%86%E5%99%A8%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BB%93/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">microcomputer_principle_08_处理器控制与指令系统总结</span> <span class="post-nav-item">Prev posts</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/embedded-system/microcomputer-principle-06-%E4%BD%8D%E7%A7%BB%E6%93%8D%E4%BD%9C%E4%B8%8E%E4%B8%B2%E6%93%8D%E4%BD%9C/"><span class="title flex-center"><span class="post-nav-title-item">microcomputer_principle_06_位移操作与串操作</span> <span class="post-nav-item">Next posts</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E6%8C%87%E4%BB%A4"><span class="nav-number">1.</span> <span class="nav-text">程序控制指令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">转移指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-number">2.1.</span> <span class="nav-text">无条件转移指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AE%B5%E5%86%85%E8%BD%AC%E7%A7%BB"><span class="nav-number">2.1.1.</span> <span class="nav-text">段内转移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AE%B5%E9%97%B4%E8%BD%AC%E7%A7%BB"><span class="nav-number">2.1.2.</span> <span class="nav-text">段间转移</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-number">2.2.</span> <span class="nav-text">条件转移指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E1%E4%B8%AA%E6%A0%87%E5%BF%97%E4%B8%BA%E7%8A%B6%E6%80%81"><span class="nav-number">2.2.1.</span> <span class="nav-text">基于1个标志为状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E2or3%E6%A0%87%E5%BF%97%E4%BD%8D%E7%8A%B6%E6%80%81"><span class="nav-number">2.2.2.</span> <span class="nav-text">基于2or3标志位状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8ECX%E5%86%85%E5%AE%B9%E8%BD%AC%E7%A7%BB%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="nav-number">2.2.3.</span> <span class="nav-text">基于CX内容转移的指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E4%BE%8B"><span class="nav-number">2.3.</span> <span class="nav-text">条件转移例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E6%8C%87%E4%BB%A4"><span class="nav-number">3.</span> <span class="nav-text">循环控制指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E6%9D%A1%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%8C%87%E4%BB%A4"><span class="nav-number">3.1.</span> <span class="nav-text">无条件循环指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%8C%87%E4%BB%A4"><span class="nav-number">3.2.</span> <span class="nav-text">条件循环指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E4%BE%8B"><span class="nav-number">3.3.</span> <span class="nav-text">循环例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8"><span class="nav-number">4.</span> <span class="nav-text">过程调用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="nav-number">4.1.</span> <span class="nav-text">执行过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AE%B5%E5%86%85%E8%B0%83%E7%94%A8"><span class="nav-number">4.1.1.</span> <span class="nav-text">段内调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AE%B5%E9%97%B4%E8%B0%83%E7%94%A8"><span class="nav-number">4.1.2.</span> <span class="nav-text">段间调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E"><span class="nav-number">4.1.3.</span> <span class="nav-text">返回</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E6%8E%A7%E5%88%B6%E6%8C%87%E4%BB%A4"><span class="nav-number">5.</span> <span class="nav-text">中断控制指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E6%A6%82%E5%BF%B5"><span class="nav-number">5.1.</span> <span class="nav-text">中断概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E6%8C%87%E4%BB%A4%EF%BC%9A"><span class="nav-number">5.2.</span> <span class="nav-text">中断指令：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E4%B8%8E%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8%EF%BC%9A"><span class="nav-number">5.3.</span> <span class="nav-text">中断与过程调用：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B-1"><span class="nav-number">5.4.</span> <span class="nav-text">执行过程</span></a></li></ol></li></ol></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2021</span> - 2023 &nbsp;<i class="fas fa-heart icon-animate"></i> &nbsp;<a href="/">Carpe Tu</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item">Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; Totalview&nbsp;<span id="busuanzi_value_site_pv"></span></div><div class="theme-info info-item">Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item flex-center toggle-show-toc"><i class="fas fa-list"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="zoom-in-image-mask"><img class="zoom-in-image"></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input"></div><span class="close-popup-btn"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/dark-light-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/lazyload.js"></script><div class="post-scripts pjax"><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/post-helper.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/toc.js"></script></div><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script></body></html>
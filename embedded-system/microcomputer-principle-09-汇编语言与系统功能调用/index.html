<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="Hexo Theme Keep"><meta name="author" content="Carpe Tu"><title>microcomputer_principle_09_汇编语言与系统功能调用 | Carpe&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/fontawesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/regular.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/solid.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/brands.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"overduse.github.io",root:"/",language:"en",path:"search.json"},KEEP.theme_config={toc:{enable:!0,number:!0,expand_all:!0,init_open:!0},style:{primary_color:"#0066cc",logo:"https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png",favicon:"https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png",avatar:"https://pic.imgdb.cn/item/639ece3eb1fccdcd365542dd.jpg",font_size:"15.6px",font_family:null,hover:{shadow:!0,scale:!0},first_screen:{enable:!0,header_transparent:!0,background_img:"/images/bg.svg",description:"Keep writing and Keep loving.",font_color:null,hitokoto:!0},scroll:{progress_bar:!0,percent:!0}},local_search:{enable:!0,preload:!0},code_copy:{},code_block:{tools:{enable:!0,style:"mac"},highlight_theme:"default"},side_tools:{},pjax:{enable:!0},lazyload:{enable:!0},comment:{enable:!1,use:"valine",valine:{appid:null,appkey:null,placeholder:null},gitalk:{github_id:null,github_admins:null,repository:null,client_id:null,client_secret:null},twikoo:{env_id:null,region:null,version:"1.6.7"},waline:{server_url:null,reaction:!1,version:2}},post:{author_label:{enable:!0,auto:!1,custom_label_list:["Bell","Red Whistle","Blue Whistle","Moon Whistle","Black Whistle","YouWorth"]},word_count:{enable:!0,wordcount:!0,min2read:!0},img_align:"center",copyright_info:!0},version:"3.6.1"},KEEP.language_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"},KEEP.language_code_block={copy:"Copy code",copied:"Copied",fold:"Fold code block",folded:"Folded"},KEEP.language_copy_copyright={copy:"Copy copyright info",copied:"Copied",title:"Original article title",author:"Original article author",link:"Original article link"}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Keep Theme" type="application/atom+xml">
<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="https://pic.imgdb.cn/item/622b2b2e5baa1a80abf6fcff.png"> </a><a class="logo-title" href="/">Carpe&#39;s Blog</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">HOME</a></li><li class="menu-item"><a href="/archives">ARCHIVES</a></li><li class="menu-item"><a href="/categories">CATEGORIES</a></li><li class="menu-item"><a href="/tags">TAGS</a></li><li class="menu-item"><a href="/links">LINKS</a></li><li class="menu-item"><a href="/about">ABOUT</a></li><li class="menu-item"><a href="/changelog">CHANGELOG</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">HOME</a></li><li class="drawer-menu-item flex-center"><a href="/archives">ARCHIVES</a></li><li class="drawer-menu-item flex-center"><a href="/categories">CATEGORIES</a></li><li class="drawer-menu-item flex-center"><a href="/tags">TAGS</a></li><li class="drawer-menu-item flex-center"><a href="/links">LINKS</a></li><li class="drawer-menu-item flex-center"><a href="/about">ABOUT</a></li><li class="drawer-menu-item flex-center"><a href="/changelog">CHANGELOG</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="post-page-container"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">microcomputer_principle_09_汇编语言与系统功能调用</span></div><div class="article-header"><div class="avatar"><img src="https://pic.imgdb.cn/item/639ece3eb1fccdcd365542dd.jpg"></div><div class="info"><div class="author"><span class="name">Carpe Tu</span> <span class="author-label">Black Whistle</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-calendar-plus"></i>&nbsp; <span class="pc">2023-02-22 09:45:37</span> <span class="mobile">2023-02-22 09:45</span> </span><span class="article-update-date article-meta-item"><i class="fas fa-file-pen"></i>&nbsp; <span class="pc">2023-02-24 20:01:37</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/embedded-system/">embedded system</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/Courses-Notes/">Courses Notes</a>&nbsp;</li><li>| <a href="/tags/xjtu/">xjtu</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>2.9k Words</span> </span><span class="article-min2read article-meta-item"><i class="fas fa-clock"></i>&nbsp;<span>11 Mins</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content keep-markdown-body"><h1 id="汇编语言源程序"><a href="#汇编语言源程序" class="headerlink" title="汇编语言源程序"></a>汇编语言源程序</h1><ol><li>汇编程序与汇编语言源程序</li><li>汇编语言语句类型与格式</li><li>汇编语言语句中的操作数</li></ol><hr><ul><li>汇编语言源程序 –&gt; 用助记符编写</li><li>汇编程序 –&gt; 源程序的编译程序</li></ul><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f575f0f144a0100794f200.jpg"></p><hr><h2 id="汇编语言程序设计与执行过程"><a href="#汇编语言程序设计与执行过程" class="headerlink" title="汇编语言程序设计与执行过程"></a>汇编语言程序设计与执行过程</h2><ul><li>输入汇编语言源程序(EDIT) –&gt; 源文件.ASM</li><li>汇编(MASM) –&gt; 目标文件.OBJ</li><li>链接(LINK) –&gt; 可执行文件.EXE</li><li>调试(TD) –&gt; 最终程序</li></ul><h2 id="汇编语言语句语句类型和格式"><a href="#汇编语言语句语句类型和格式" class="headerlink" title="汇编语言语句语句类型和格式"></a>汇编语言语句语句类型和格式</h2><p><u>汇编语言语句类型</u>：</p><ul><li>指令性语句<ul><li>CPU执行的语句，能够生产目标代码</li></ul></li><li>指示性语句<ul><li>CPU不执行，而由汇编程序执行的语句，不生成目标代码<br>(告诉编译器，分配多大内存空间，程序从哪儿开始，到哪儿结束)</li></ul></li></ul><h3 id="汇编语言语句格式："><a href="#汇编语言语句格式：" class="headerlink" title="汇编语言语句格式："></a>汇编语言语句格式：</h3><p><u><strong>汇编语言语句格式</strong></u>:</p><p><u>指令性语句:</u></p><p>[标号: ][前缀]助记符[操作数],[操作数][;注释]</p><p><code>标号</code>：指令的符号地址，<strong>标号要有冒号</strong></p><p><u><strong>指示性语句格式</strong></u>:</p><p>[名字] <strong>伪指令助记符</strong> 操作数[, 操作数, …][；注释]</p><blockquote><p>指示性语句中至少有一个操作数<br>操作数个数不受2个限制，受逻辑段限制</p><blockquote><p>所有操作数个数加在一起，不能超过64K字节</p></blockquote></blockquote><p><code>名字</code>：变量符号地址（为区别标号，后面不能有冒号）</p><h3 id="汇编语言语句中的操作数"><a href="#汇编语言语句中的操作数" class="headerlink" title="汇编语言语句中的操作数"></a>汇编语言语句中的操作数</h3><ol><li>寄存器</li><li>存储器单元</li><li>常量</li><li>变量或标号</li><li>表达式</li></ol><h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><ul><li>数字常量</li><li>字符串常量 –&gt; 用单引号引起的字符或字符串</li><li>e.g.<ul><li>MOV AL, ‘A’ –&gt; AL=41H</li></ul></li><li>e.g.<ul><li>定义字符串: ‘ABCD’–&gt;汇编时被译成对应的ASCII码，41H，42H，43H，44H</li><li>MOV AL, 0ABCDH</li></ul></li></ul><blockquote><p>如果以字符开头的16进制数，要用0开头，否则会被当作<code>名字/标志</code></p></blockquote><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>内存单元的符号地址，为存储器操作数</p><ul><li>变量属性</li></ul><p><code>段 值</code> ———— 变量所在段的段地址<br><code>偏移量</code> ———— 变量所指单元的偏移地址<br><code>类 型</code> ———— 字节型、字型和双字型</p><blockquote><p>内存单元的符号，<strong>形式上只代表一个单元</strong><br>不同的定义模式下，代表着一串地方</p></blockquote><h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><ul><li>算术运算</li><li>逻辑运算</li><li>关系运算</li><li>*取值运算和属性运算</li><li>其他运算</li></ul><p><strong>取值运算符</strong></p><ul><li>用于分析存储器操作数的属性<ul><li>获取变量的属性值</li></ul></li></ul><p><strong>OFFSET</strong> –&gt; 取得其后比那两或标号的偏移地址<br><strong>SEG</strong> –&gt; 取得其后变量或标号的段地址</p><ul><li>e.g.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MOV AX, SEG DATA</span><br><span class="line">MOV DS, AX             ; 取变量的段地址并送给DS</span><br><span class="line">MOV BX, OFFSET DATA    ; 取变量的偏移地址送给BX</span><br><span class="line">; 完全可以等价于 LEA BX, DATA</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>取变量的段地址<strong>只能通过SEG</strong><br>取变量的偏移地址，可以用LEA 或者 OFFSET</p></blockquote><p><strong>属性运算符</strong></p><ul><li>用于指定其后存储器操作数的类型</li><li>运算符：PTR</li><li>e.g.:<ul><li>MOV BYTR PTR[BX], 12H –&gt; 指定存储器操作数[BX]为“字节型”</li></ul></li></ul><h1 id="伪指令"><a href="#伪指令" class="headerlink" title="伪指令"></a>伪指令</h1><p><code>伪指令</code>是指示性语句的核心</p><ul><li>由汇编程序执行的“指令系统”</li><li>作用：<ul><li>定义变量；</li><li>分配存储区；</li><li>定义逻辑段；</li><li>指示程序开始和结束；</li><li>定义过程等。</li></ul></li></ul><blockquote><p>帮助计算机理解助记符指令编写的汇编语言源程序</p></blockquote><hr><ul><li>数据定义伪指令</li><li>符号定义伪指令</li><li>段定义伪指令</li><li>结束伪指令</li><li>过程定义伪指令</li><li>宏命令伪指令</li></ul><hr><h2 id="数据定义伪指令"><a href="#数据定义伪指令" class="headerlink" title="数据定义伪指令"></a>数据定义伪指令</h2><p>用于定义数据区中变量的类型及其所占内存空间大小</p><ul><li>format:<br>[变量名] <em>伪指令助记符</em> 操作数，… ;[注释]</li></ul><p><code>伪指令助记符</code> –&gt; 定义变量类型<br>操作数 –&gt; 变量值，可以是常数，表达式或字符串。</p><blockquote><p>操作数大小不能超过伪指令助记符所限定的范围<br><strong>变量的类型及其操作数的个数决定了该变量所在内存空间的大小</strong></p></blockquote><h3 id="数据定义伪指令助记符"><a href="#数据定义伪指令助记符" class="headerlink" title="数据定义伪指令助记符"></a>数据定义伪指令助记符</h3><ul><li>DB(Define Byte): –&gt; 指向的每个操作数占1个<strong>字节单元</strong><ul><li>定义的变量为字节型</li></ul></li><li>DW(Define Word): –&gt; 指向的每个操作数占一个<strong>字单元</strong><ul><li>定义的变量为字类型</li></ul></li><li>DD(Define Double Word):<ul><li>定义的变量为双字型</li></ul></li><li>DQ(Define Quadword):<ul><li>定义的变量为4字型</li></ul></li><li>DT(Define Tenbytes):<ul><li>定义的变量为10字节型</li></ul></li></ul><h3 id="e-g"><a href="#e-g" class="headerlink" title="e.g."></a>e.g.</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DATA1 DB 11H, 22H, 33H, 44H</span><br><span class="line">DATA2 DW 11H, 22H, 3344H        ; 定义为**字单元**，故为0011H，0022H</span><br><span class="line">DATA3 DD 11H*2, 22H, 33445566H  ; 11H*2 相当于表达式</span><br></pre></td></tr></table></figure><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f60f29f144a01007852ed0.jpg"></p><h3 id="数据定义伪指令的几点说明"><a href="#数据定义伪指令的几点说明" class="headerlink" title="数据定义伪指令的几点说明"></a>数据定义伪指令的几点说明</h3><ul><li>数据定义伪指令决定所定义变量的类型；</li><li><strong>定义字符串必须用DB伪指令</strong></li><li>e.g.<ul><li>DATA1 DB ‘ABCD’, 66H</li></ul></li></ul><blockquote><p>不用DB定义字符串，会报错</p></blockquote><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f60fdff144a0100787e84d.jpg"></p><h3 id="DUP"><a href="#DUP" class="headerlink" title="DUP"></a>DUP</h3><p><code>重复操作符</code>: DUP, duplication</p><p>当同样的操作数重复多次时，可以使用重复操作符。</p><ul><li>作用:<ul><li>为一个数据区的各单元设置相同的储值</li></ul></li><li>format:<br>[变量名] 伪指令助记符 n DUP (初值[,初值,…])<br>n –&gt; 重复的次数</li><li>e.g.<ul><li>M1 DB 10 DUP(0)</li></ul></li></ul><blockquote><p>常用于声明一个数据区</p></blockquote><h3><a href="#" class="headerlink" title="?"></a>?</h3><p>表示随机值，预留存储空间</p><ul><li>e.g.<ul><li>MEM1 DB 34H, ‘A’, ? ; 随机数，占一个字节单元</li><li>DW 20 DUP(?) ; 预留40个字节单元，每单元为随机值</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">M1 DB 'How are you?'</span><br><span class="line">M2 DW 3 DUP(11H), 3344H</span><br><span class="line">   DB 4 DUP(?)</span><br><span class="line">M3 DB 3 DUP(22H, 11H, ?)</span><br></pre></td></tr></table></figure><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f61331f144a0100795dcc1.jpg"></p><h2 id="符号定义伪指令"><a href="#符号定义伪指令" class="headerlink" title="符号定义伪指令"></a>符号定义伪指令</h2><p>将表达式的值赋给一个名字。当源程序中需多次引用某一表达式时，可以利用EQU伪指令，用一个符号代替表达式，以便于程序维护。</p><ul><li>format：<ul><li>符号名 EQU 表达式</li></ul></li><li>manipulation:<ul><li>用符号名取代后边的表达式，不可重新定义</li></ul></li><li>e.g.<ul><li>CONSTANT EQU 100</li></ul></li></ul><blockquote><p>EQU说明的表达式不占用内存空间</p></blockquote><h2 id="段定义伪指令"><a href="#段定义伪指令" class="headerlink" title="段定义伪指令"></a>段定义伪指令</h2><ul><li>在汇编语言源程序中定义逻辑段<ul><li>说明逻辑段的起始和结束</li><li>说明不同程序模块中同类逻辑段之间的联系形态</li></ul></li><li>format:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">段名 SEGMENT [定位类型][组合类型]['类别']</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">段名 ENDS</span><br></pre></td></tr></table></figure></li></ul><blockquote><p><code>段名</code>–&gt; 逻辑段段段基地址, 段基地址的具体值，对程序员透明<br><code>定位类型</code> –&gt; 说明逻辑段的起点，默认为<strong>节边界</strong>起始，一节是16bit，所以每个逻辑段地址，都要被16整除<br><code>组合类型</code> –&gt; 装入内存时，各逻辑段的组合方式，默认不组合<br><code>类别</code> –&gt; 链接时，不同程序模块中的同类逻辑段将被装入连续存储区</p></blockquote><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DATA SEGMENT</span><br><span class="line">  MEM1 DB 11H, 22H; 变量在逻辑段中的位置，表偏移地址(0)</span><br><span class="line">  MEM2 DB 'Hello!'; 第二个偏移地址(2)</span><br><span class="line">  MEM3 DW 2 DUP(?); DW表示变量类型</span><br><span class="line">DATA ENDS         ; DATA 段名/逻辑段地址</span><br></pre></td></tr></table></figure><blockquote><p>MEM1的偏移地址为0，MEM2偏移地址为2，MEM3偏移地址为3</p></blockquote><blockquote><p>段定义伪指令，无法明确段的属性，需要使用 ASSUME 来明确段性质<br>有串操作程序中，必须声明<strong>附加段</strong><br>有堆栈操作程序中，必须声明<strong>堆栈段</strong></p></blockquote><h2 id="设定段寄存器伪指令"><a href="#设定段寄存器伪指令" class="headerlink" title="设定段寄存器伪指令"></a>设定段寄存器伪指令</h2><ul><li>说明所定义逻辑段的性质</li><li>format:<ul><li>ASSUME 段寄存器名：段名[, 段寄存器名：段名，…]</li></ul></li></ul><h2 id="结束伪指令"><a href="#结束伪指令" class="headerlink" title="结束伪指令"></a>结束伪指令</h2><ul><li>表示源程序结束</li><li>format:<ul><li>END [标号]</li></ul></li></ul><h2 id="过程定义伪指令"><a href="#过程定义伪指令" class="headerlink" title="过程定义伪指令"></a>过程定义伪指令</h2><ul><li><p>用于定义一个过程体</p></li><li><p>format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">过程名 PROC[NEAR/FAR]</span><br><span class="line">        .</span><br><span class="line">        .</span><br><span class="line">        .</span><br><span class="line">        RET         ; 过程体的最后一条指令必须是RET</span><br><span class="line">过程名 ENDP</span><br></pre></td></tr></table></figure></li><li><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DELAY PROC</span><br><span class="line">      PUSH BX</span><br><span class="line">      PUSH CX</span><br><span class="line">      MOV BL, 2</span><br><span class="line">NEXT: MOV CX, 4167</span><br><span class="line">W10M: LOOP W10M</span><br><span class="line">      DEC BL</span><br><span class="line">      JNZ NEXT</span><br><span class="line">      POP CX</span><br><span class="line">      POP BX</span><br><span class="line">      RET</span><br><span class="line">DELAY ENDP</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>循环进行了<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="8.422ex" height="1.581ex" role="img" focusable="false" viewBox="0 -677 3722.4 699"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" transform="translate(500,0)"></path><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(1000,0)"></path><path data-c="37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z" transform="translate(1500,0)"></path></g></g></g></svg></mjx-container>次</p></blockquote><ul><li>调用延时子程序： <strong>CALL DELAY</strong></li></ul><h2 id="宏命令伪指令"><a href="#宏命令伪指令" class="headerlink" title="宏命令伪指令"></a>宏命令伪指令</h2><ul><li><p>宏：</p><ul><li>源程序中由汇编程序识别的具有独立功能的一段程序代码</li></ul></li><li><p>当源程序中需要多次使用同一个程序段时，可以将该程序段定义为一个宏</p></li><li><p>format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">宏命令名 MACRO &lt;形式参数&gt; --&gt; 通过参数传递方式引用宏</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">ENDM</span><br></pre></td></tr></table></figure></li><li><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DADD  MACRO X, Y, Z</span><br><span class="line">      MOV AX, X</span><br><span class="line">      ADD AX, Y</span><br><span class="line">      MOV Z, AX</span><br><span class="line">      ENDM</span><br></pre></td></tr></table></figure></li><li><p>宏调用：</p><ul><li>DADD DATA1, DATA2, SUM</li></ul></li><li><p>宏展开：</p><ul><li>MOV AX, DATA1</li><li>ADD AX, DATA2</li><li>MOV SUM, AX</li></ul></li></ul><h2 id="调整偏移量伪指令"><a href="#调整偏移量伪指令" class="headerlink" title="调整偏移量伪指令"></a>调整偏移量伪指令</h2><ul><li>规定程序或变量在逻辑段中的起始地址</li></ul><blockquote><p>默认情况下，程序或变量在逻辑段中的偏移地址为:0<br>利用ORG指令，可以改变程序或变量的起始偏移地址</p></blockquote><ul><li>format:<ul><li>ORG 表达式 &lt;– 计算值为非负常数</li></ul></li><li>e.g.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DATA SEGMENT</span><br><span class="line">     ORG 1200H</span><br><span class="line">     BUFF DB 1,2;  --&gt; 变量BUFF的偏移地址1200H</span><br><span class="line">DATA ENDS</span><br></pre></td></tr></table></figure></li></ul><h1 id="系统功能调用"><a href="#系统功能调用" class="headerlink" title="系统功能调用"></a>系统功能调用</h1><p>调用BIOS功能/DOS功能</p><h2 id="DOS-x2F-BIOS"><a href="#DOS-x2F-BIOS" class="headerlink" title="DOS/BIOS"></a>DOS/BIOS</h2><ul><li>驻留在ROM中的基本输入/输出系统<ul><li><strong>加电自检，装入引导，主要I/O设备处理程序及接口控制</strong></li></ul></li><li>DOS<ul><li>磁盘操作系统</li></ul></li></ul><p>DOS功能/BIOS功能调用是调用系统内核子程序<br>DOS功能与BIOS功能均通过<strong>中断方式调用</strong> –&gt; 调用操作系统内核</p><blockquote><p>无论是调用BIOS还是DOS，都可以简称为 <u>BIOS中断</u>和<u>DOS中断</u></p></blockquote><h3 id="DOS软中断"><a href="#DOS软中断" class="headerlink" title="DOS软中断"></a>DOS软中断</h3><p>DOS中断包括：设备管理，目录管理，文件管理，其它用中断类型码区分</p><p><code>DOS软中断</code>：类型码为<strong>21H</strong></p><ul><li>关于DOS软中断说明：<ul><li>包括多个子功能的功能包；</li><li>各子功能用功能号区分；</li><li>用软中断指令调用，中断类型码固定为<strong>21H</strong></li></ul></li></ul><h3 id="DOS调用的基本步骤"><a href="#DOS调用的基本步骤" class="headerlink" title="DOS调用的基本步骤"></a>DOS调用的基本步骤</h3><ul><li>将调用参数装入指定的寄存器；</li><li>将功能号装入AH；</li><li>按中断类型好调用DOS中断；</li><li>检查返回参数是否正确</li><li>调用格式：<ul><li>MOV AH，功能号</li><li>&lt;置相应参数&gt;</li><li>INT 21H</li></ul></li></ul><h2 id="单字符输入"><a href="#单字符输入" class="headerlink" title="单字符输入"></a>单字符输入</h2><ul><li><p>调用方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MOV AH, 01</span><br><span class="line">INT 21H</span><br></pre></td></tr></table></figure></li><li><p>输入的字符在AL中</p></li><li><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET KEY: MOV AH, 1</span><br><span class="line">         INT 21H</span><br><span class="line">         CMP AL, 'Y'    ; 输入-&gt; AL</span><br><span class="line">         JZ YES</span><br><span class="line">         CMP AL, 'N'</span><br><span class="line">         JZ NO</span><br><span class="line">         JMP GET KEY</span><br><span class="line">    YES: ...</span><br><span class="line">    NO : ...</span><br></pre></td></tr></table></figure></li></ul><h2 id="字符串输入"><a href="#字符串输入" class="headerlink" title="字符串输入"></a>字符串输入</h2><ul><li>接收由键盘输入一串字符</li><li>输入的字符串存储在内存指导区域中 –&gt; 字符输入缓冲区</li><li>用户自定义缓冲区格式：</li></ul><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f70270f144a010070e8240.jpg"></p><blockquote><p><code>N1</code>一定要等于缓冲区的大小<br>N1一定是字节，缓冲区<strong>最大</strong>只能是255</p></blockquote><hr><ul><li>字符串输入功能号：<ul><li><strong>10</strong> -&gt; <strong>0AH</strong></li></ul></li><li>缓存区须定义在数据段</li><li>方法：<ul><li>AH&lt;–功能号</li><li>DS:DX&lt;–字符串在内存中的存放地址</li></ul></li></ul><blockquote><p>这个功能里面，要求将字符串地址赋给 <code>DS:DX</code></p></blockquote><ul><li>e.g.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DAT1 DB 20, ?, 20 DUP(?);   字符输入缓冲区</span><br><span class="line">     .</span><br><span class="line">     .</span><br><span class="line">     .</span><br><span class="line">     LEA DX, DAT1</span><br><span class="line">     MOV AH, 0AH</span><br><span class="line">     INT 21H</span><br></pre></td></tr></table></figure></li></ul><p><img lazyload="" alt="image" data-src="https://pic.imgdb.cn/item/63f70a66f144a010071ef575.jpg"></p><h2 id="单字符显示输出"><a href="#单字符显示输出" class="headerlink" title="单字符显示输出"></a>单字符显示输出</h2><p>AH &lt;– 功能号<strong>2</strong><br>DL &lt;– 待输出字符<br>INT 21H</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MOV AH, 2     ; 功能号</span><br><span class="line">MOV DL, 41H</span><br><span class="line">INT 21H       ; 执行结果 屏幕显示A</span><br></pre></td></tr></table></figure><h2 id="字符串输出显示"><a href="#字符串输出显示" class="headerlink" title="字符串输出显示"></a>字符串输出显示</h2><ul><li><p>format:</p><ul><li>AH &lt;– 功能号09H</li><li>DS:DX &lt;– 待输出字符串待偏移地址</li><li>INT 21H</li></ul></li><li><p>NOTE:</p><ul><li>被显示的字符串必须以’$’结束；</li><li>所显示的内容不应出现非可见的ASCII码;</li><li>若考虑输出格式需要，在定义字符串后，加上回车符和换行符。</li></ul></li><li><p>e.g.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DATA  SEGMENT</span><br><span class="line">  MESS1 DB 'Input String:', 0DH, 0AH, '$'</span><br><span class="line">DATA ENDS</span><br><span class="line">    .           ; 0DH -&gt; 回车，出现最后一个字节后一个位置</span><br><span class="line">    .           ; 0AH -&gt; 换行</span><br><span class="line">    .</span><br><span class="line">MOV   AH, 09</span><br><span class="line">MOV   DX, OFFSET MESS1</span><br><span class="line">INT   21H</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line">    .</span><br></pre></td></tr></table></figure></li></ul><h2 id="返回操作系统（DOS）功能"><a href="#返回操作系统（DOS）功能" class="headerlink" title="返回操作系统（DOS）功能"></a>返回操作系统（DOS）功能</h2><ul><li><p>功能号：</p><ul><li>4CH</li></ul></li><li><p>调用格式：</p><ul><li>MOV AH, 4CH</li><li>INT 21H</li></ul></li><li><p>func:</p><ul><li>程序执行完该2条语句后能正常返回OS</li><li>常位于程序结尾处。</li></ul></li></ul><blockquote><p>HLT用于暂停执行，可能造成程序死机<br>4CH 能保证正常返回系统</p></blockquote><h2 id="DOS功能调用小节"><a href="#DOS功能调用小节" class="headerlink" title="DOS功能调用小节"></a>DOS功能调用小节</h2><ul><li>通过中断指令调用。1个中断类型码对应1个功能程序包；</li><li>每个程序包中的子功能通过功能号区分，调用时功能号须送AH；</li><li>注意不同于字功能的入口/出口参数要求；</li></ul><blockquote><p>DOS和BIOS中断均可能影响AX</p></blockquote></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul class="copyright-info-content"><li class="post-title"><span class="type">Post title</span>: <span class="content">microcomputer_principle_09_汇编语言与系统功能调用</span></li><li class="post-author"><span class="type">Post author</span>: <span class="content">Carpe Tu</span></li><li class="post-time"><span class="type">Create time</span>: <span class="content">2023-02-22 09:45:37</span></li><li class="post-link"><span class="type">Post link</span>: <span class="content">embedded-system/microcomputer-principle-09-汇编语言与系统功能调用/</span></li><li class="post-license"><span class="type">Copyright notice</span>: <span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span></li></ul><div class="copy-copyright-info flex-center tooltip" data-content="Copy copyright info" data-offset-y="-2px"><i class="fa-solid fa-copy"></i></div></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/Courses-Notes/">#Courses Notes</a>&nbsp;</li><li class="tag-item"><a href="/tags/xjtu/">#xjtu</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/embedded-system/microcomputer-principle-10-%E6%B1%87%E7%BC%96%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%A4%BA%E4%BE%8B/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">microcomputer_principle_10_汇编程序设计示例</span> <span class="post-nav-item">Prev posts</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/embedded-system/microcomputer-principle-08-%E5%A4%84%E7%90%86%E5%99%A8%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BB%93/"><span class="title flex-center"><span class="post-nav-title-item">microcomputer_principle_08_处理器控制与指令系统总结</span> <span class="post-nav-item">Next posts</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.</span> <span class="nav-text">汇编语言源程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="nav-number">1.1.</span> <span class="nav-text">汇编语言程序设计与执行过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E8%AF%AD%E5%8F%A5%E8%AF%AD%E5%8F%A5%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%A0%BC%E5%BC%8F"><span class="nav-number">1.2.</span> <span class="nav-text">汇编语言语句语句类型和格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E8%AF%AD%E5%8F%A5%E6%A0%BC%E5%BC%8F%EF%BC%9A"><span class="nav-number">1.2.1.</span> <span class="nav-text">汇编语言语句格式：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E8%AF%AD%E5%8F%A5%E4%B8%AD%E7%9A%84%E6%93%8D%E4%BD%9C%E6%95%B0"><span class="nav-number">1.2.2.</span> <span class="nav-text">汇编语言语句中的操作数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">常量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">表达式</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">伪指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.1.</span> <span class="nav-text">数据定义伪指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4%E5%8A%A9%E8%AE%B0%E7%AC%A6"><span class="nav-number">2.1.1.</span> <span class="nav-text">数据定义伪指令助记符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#e-g"><span class="nav-number">2.1.2.</span> <span class="nav-text">e.g.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4%E7%9A%84%E5%87%A0%E7%82%B9%E8%AF%B4%E6%98%8E"><span class="nav-number">2.1.3.</span> <span class="nav-text">数据定义伪指令的几点说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DUP"><span class="nav-number">2.1.4.</span> <span class="nav-text">DUP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.1.5.</span> <span class="nav-text">?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%A6%E5%8F%B7%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.2.</span> <span class="nav-text">符号定义伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AE%B5%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.3.</span> <span class="nav-text">段定义伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E5%AE%9A%E6%AE%B5%E5%AF%84%E5%AD%98%E5%99%A8%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.4.</span> <span class="nav-text">设定段寄存器伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9D%9F%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.5.</span> <span class="nav-text">结束伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%87%E7%A8%8B%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.6.</span> <span class="nav-text">过程定义伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8F%E5%91%BD%E4%BB%A4%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.7.</span> <span class="nav-text">宏命令伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E5%81%8F%E7%A7%BB%E9%87%8F%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-number">2.8.</span> <span class="nav-text">调整偏移量伪指令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E8%B0%83%E7%94%A8"><span class="nav-number">3.</span> <span class="nav-text">系统功能调用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DOS-x2F-BIOS"><span class="nav-number">3.1.</span> <span class="nav-text">DOS&#x2F;BIOS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DOS%E8%BD%AF%E4%B8%AD%E6%96%AD"><span class="nav-number">3.1.1.</span> <span class="nav-text">DOS软中断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOS%E8%B0%83%E7%94%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="nav-number">3.1.2.</span> <span class="nav-text">DOS调用的基本步骤</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5"><span class="nav-number">3.2.</span> <span class="nav-text">单字符输入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BE%93%E5%85%A5"><span class="nav-number">3.3.</span> <span class="nav-text">字符串输入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E5%AD%97%E7%AC%A6%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA"><span class="nav-number">3.4.</span> <span class="nav-text">单字符显示输出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BE%93%E5%87%BA%E6%98%BE%E7%A4%BA"><span class="nav-number">3.5.</span> <span class="nav-text">字符串输出显示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%88DOS%EF%BC%89%E5%8A%9F%E8%83%BD"><span class="nav-number">3.6.</span> <span class="nav-text">返回操作系统（DOS）功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOS%E5%8A%9F%E8%83%BD%E8%B0%83%E7%94%A8%E5%B0%8F%E8%8A%82"><span class="nav-number">3.7.</span> <span class="nav-text">DOS功能调用小节</span></a></li></ol></li></ol></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2021</span> - 2023 &nbsp;<i class="fas fa-heart icon-animate"></i> &nbsp;<a href="/">Carpe Tu</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item">Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; Totalview&nbsp;<span id="busuanzi_value_site_pv"></span></div><div class="theme-info info-item">Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item flex-center toggle-show-toc"><i class="fas fa-list"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="zoom-in-image-mask"><img class="zoom-in-image"></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input"></div><span class="close-popup-btn"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/dark-light-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/code-block.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/lazyload.js"></script><div class="post-scripts pjax"><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/post-helper.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/toc.js"></script></div><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script></body></html>